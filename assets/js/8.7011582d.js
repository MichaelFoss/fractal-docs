(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{94:function(t,n,s){"use strict";s.r(n);var a=s(0),o=Object(a.a)({},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"content"},[t._m(0),s("p",[t._v("If you want to include your Fractal component library as a dependency in another project, one way to do so is to package it up as an Node module and import it via NPM.")]),t._m(1),s("p",[t._v("To set up your library for publishing, you will need to:")]),s("ol",[s("li",[t._v("Make sure that the "),s("router-link",{attrs:{to:"../project-settings.html"}},[t._v("paths in your "),s("code",[t._v("fractal.js")])]),t._v(" are full contextual paths (i.e. making use of the Node "),s("code",[t._v("__dirname")]),t._v(" global)")],1),t._m(2),t._m(3),s("li",[t._v("Either publish to NPM as a module or push to Github. Full details of publishing and consuming NPM modules is outside the scope of these docs but there are plenty of good tutorials on the web.")])]),t._m(4),s("p",[t._v("In the project that you want to include the fractal component library in:")]),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),s("p",[t._v("Generally you have a number of options, the primary ones being:")]),t._m(10),s("p",[t._v("For example, a "),s("router-link",{attrs:{to:"../cli/custom-commands.html"}},[t._v("bespoke Fractal CLI task")]),t._v(" for "),s("strong",[t._v("option 3")]),t._v(" might look something like:")],1),t._m(11)])},[function(){var t=this.$createElement,n=this._self._c||t;return n("h1",{attrs:{id:"using-your-component-library-within-other-projects"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#using-your-component-library-within-other-projects","aria-hidden":"true"}},[this._v("#")]),this._v(" Using your component library within other projects")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_1-prepare-your-library-for-publishing"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-prepare-your-library-for-publishing","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. Prepare your library for publishing")])},function(){var t=this.$createElement,n=this._self._c||t;return n("li",[this._v("Set a name for your component library in your "),n("code",[this._v("package.json")]),this._v(" file - for instance "),n("code",[this._v("foocorp-component-library")]),this._v(".")])},function(){var t=this.$createElement,n=this._self._c||t;return n("li",[this._v("Set the value of the "),n("a",{attrs:{href:"https://docs.npmjs.com/files/package.json#main",target:"_blank",rel:"noopener noreferrer"}},[this._v("main")]),this._v(" field in your package.json to be "),n("code",[this._v("fractal.js")]),this._v(".")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_2-include-in-your-project"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-include-in-your-project","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. Include in your project")])},function(){var t=this.$createElement,n=this._self._c||t;return n("ol",[n("li",[this._v("Install fractal: "),n("code",[this._v("npm i @frctl/fractal")])]),n("li",[this._v("Install your component library: "),n("code",[this._v("npm i foocorp-component-library")])]),n("li",[this._v("Create a "),n("code",[this._v("fractal.js")]),this._v(" file in the root of your project that looks as follows:")])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fractal "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" module"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foocorp-component-library'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// any other custom, instance specific configuration here if needed")]),t._v("\n")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("You should now be able to run fractal commands such as "),n("code",[this._v("fractal start")]),this._v(" from within the parent project's root directory and they will operate on your component library as if it were part of the project itself.")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_3-next-steps"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-next-steps","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. Next steps")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("Obviously just including the component library into another project is not that useful by itself - you now need to decide how you want to "),n("em",[this._v("consume")]),this._v(" that component library code in your project.")])},function(){var t=this.$createElement,n=this._self._c||t;return n("ol",[n("li",[this._v("Use the Fractal API to directly include and render components within your application (only applicable if you are building a Node.JS app)")]),n("li",[this._v("Write a bespoke template loader for your project that loads templates from your library, perhaps making use of a mapping of component handles -> paths that can be generated by Fractal.")]),n("li",[this._v("Export the templates from your library into your project, possibly with some path re-writing as part of the export process, and then consume these exported templates in your project as required.")])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// setup/import etc...")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'fs'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("/*\n * Fractal export command.\n *\n * Exports all view templates into a directory in the root of the project.\n * Templates are exported in a flat structure with the filenames in the format of {handle}.{ext}\n *\n * Any @handle references in the templates (for partial includes etc) are re-written\n * to reference the appropriate template path.\n *\n * Run by using the command `fractal export` in the root of the project directory.\n */")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("exportTemplates")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("this")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fractal"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" items "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("components"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("flattenDeep")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("toArray")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" jobs "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" item "),s("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" items"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" exportPath "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("join")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'./'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("output "),s("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'exported'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token template-string"}},[s("span",{attrs:{class:"token string"}},[t._v("`")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("item"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alias "),s("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" item"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handle"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'components.ext'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v("`")])]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" job "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" item"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getContent")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("then")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" str"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("replace")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token regex"}},[t._v("/\\@([0-9a-zA-Z\\-\\_]*)/g")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("match"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handle"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token template-string"}},[s("span",{attrs:{class:"token string"}},[t._v("`")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("handle"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'components.ext'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v("`")])]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("then")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" fs"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("writeFileSync")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exportPath"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" str"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        jobs"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("push")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("job"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("all")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jobs"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nfractal"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cli"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("command")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'export'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exportTemplates"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    description"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Export all component templates'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token string"}},[t._v("'-o, --output <output-dir>'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'The directory to export components into, relative to the CWD.'")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])}],!1,null,null,null);n.default=o.exports}}]);