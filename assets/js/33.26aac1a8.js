(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{69:function(t,n,s){"use strict";s.r(n);var a=s(0),o=Object(a.a)({},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"content"},[t._m(0),s("p",[t._v("It is possible to extend the Fractal CLI tool using custom commands. These allow you to hook into the power of Fractal's API to build bespoke commands to help you with your project workflow.")]),s("p",[t._v("Custom commands are typically registered in your "),s("router-link",{attrs:{to:"../project-settings.html"}},[t._v("project settings file")]),t._v(" using the "),s("router-link",{attrs:{to:"../../api/endpoints/fractal-cli.html#command-commandstring-callback-opts"}},[s("code",[t._v("fractal.cli.command()")])]),t._v(" method. Once registered they can then be called via the command line or programmatically.")],1),t._m(1),s("p",[t._v("An simple custom command to list all the components in the project, together with their status, is shown below. This would typically be registered in your "),s("router-link",{attrs:{to:"../project-settings.html"}},[t._v("project settings file")]),t._v(".")],1),t._m(2),s("p",[t._v("Once created, the command can be run from within the project directory using the command:")]),t._m(3),s("p",[t._v("It can also be called programmatically using the "),s("router-link",{attrs:{to:"../../api/endpoints/fractal-cli.html#exec"}},[s("code",[t._v("fractal.cli.exec()")])]),t._v(" method:")],1),t._m(4),t._m(5),t._m(6),t._m(7),s("p",[t._v("For example:")]),t._m(8),t._m(9),t._m(10),s("p",[t._v("You can specify available options by adding them to the config object that can be provided as the third argument when registering a command:")]),t._m(11)])},[function(){var t=this.$createElement,n=this._self._c||t;return n("h1",{attrs:{id:"custom-commands"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#custom-commands","aria-hidden":"true"}},[this._v("#")]),this._v(" Custom commands")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"an-example-custom-command"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#an-example-custom-command","aria-hidden":"true"}},[this._v("#")]),this._v(" An example custom command")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// fractal.js")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" config "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    description"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Lists components in the project'")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("listComponents")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("this")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fractal"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" item "),s("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("components"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("flatten")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("this")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token template-string"}},[s("span",{attrs:{class:"token string"}},[t._v("`")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("item"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handle"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v(" - ")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("item"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v("`")])]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("done")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nfractal"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cli"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("command")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'list-components'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listComponents"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// register the command")]),t._v("\n")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[this._v("fractal list-components\n")])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("fractal"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cli"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("exec")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'list-components'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"accepting-arguments"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#accepting-arguments","aria-hidden":"true"}},[this._v("#")]),this._v(" Accepting arguments")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("The first argument passed to the "),n("code",[this._v("fractal.cli.command()")]),this._v(" method describes the format that your command should take.")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",[s("li",[s("strong",[t._v("Required arguments")]),t._v(" can be specified by surrounding the name with angle brackets, e.g. "),s("code",[t._v("<bar>")]),t._v(".")]),s("li",[s("strong",[t._v("Optional arguments")]),t._v(" can be specified by surrounding the name with square brackets e.g. "),s("code",[t._v("[foo]")]),t._v(".")])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("fractal"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cli"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("command")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo <requiredArg> [optionalArg] [anotherOptionalArg]'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("requiredArg"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("done")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("The values for the arguments supplied when the command is run will be made available to the callback function within the firs "),n("code",[this._v("args")]),this._v(" object.")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"accepting-options"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#accepting-options","aria-hidden":"true"}},[this._v("#")]),this._v(" Accepting options")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" config "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    options"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token string"}},[t._v("'-p, --port <number>'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'The port to use.'")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nfractal"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cli"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("command")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// do something")]),t._v("\n    console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token template-string"}},[s("span",{attrs:{class:"token string"}},[t._v("`Something was started on port ")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v("`")])]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("done")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])}],!1,null,null,null);n.default=o.exports}}]);