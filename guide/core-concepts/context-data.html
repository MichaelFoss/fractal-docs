<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fractal | Context Data</title>
    <meta name="description" content="Powerful component libraries &amp; styleguides that fit the way you work.">
    <link rel="icon" href="/fractal-docs/favicon.png">
    
    <link rel="preload" href="/fractal-docs/assets/css/53.styles.99a8209a.css" as="style"><link rel="preload" href="/fractal-docs/assets/js/app.ae8e43dd.js" as="script"><link rel="preload" href="/fractal-docs/assets/js/21.11774765.js" as="script"><link rel="prefetch" href="/fractal-docs/assets/js/27.8b5394b9.js"><link rel="prefetch" href="/fractal-docs/assets/js/1.5de88be2.js"><link rel="prefetch" href="/fractal-docs/assets/js/2.dfc9036d.js"><link rel="prefetch" href="/fractal-docs/assets/js/3.adbe89b7.js"><link rel="prefetch" href="/fractal-docs/assets/js/4.d69ac259.js"><link rel="prefetch" href="/fractal-docs/assets/js/5.0ddf1681.js"><link rel="prefetch" href="/fractal-docs/assets/js/6.c0e984fc.js"><link rel="prefetch" href="/fractal-docs/assets/js/7.6068f11a.js"><link rel="prefetch" href="/fractal-docs/assets/js/8.7011582d.js"><link rel="prefetch" href="/fractal-docs/assets/js/9.4731f52d.js"><link rel="prefetch" href="/fractal-docs/assets/js/10.7cd9b858.js"><link rel="prefetch" href="/fractal-docs/assets/js/11.c0ec9ad7.js"><link rel="prefetch" href="/fractal-docs/assets/js/12.49f79863.js"><link rel="prefetch" href="/fractal-docs/assets/js/13.9f1ee288.js"><link rel="prefetch" href="/fractal-docs/assets/js/14.abbae4ff.js"><link rel="prefetch" href="/fractal-docs/assets/js/15.6abc5359.js"><link rel="prefetch" href="/fractal-docs/assets/js/16.0f440ab4.js"><link rel="prefetch" href="/fractal-docs/assets/js/17.4c4316ae.js"><link rel="prefetch" href="/fractal-docs/assets/js/18.7783350e.js"><link rel="prefetch" href="/fractal-docs/assets/js/19.18f545c2.js"><link rel="prefetch" href="/fractal-docs/assets/js/20.6a7435b8.js"><link rel="prefetch" href="/fractal-docs/assets/js/22.0c194bc7.js"><link rel="prefetch" href="/fractal-docs/assets/js/23.681b3873.js"><link rel="prefetch" href="/fractal-docs/assets/js/24.c9381b51.js"><link rel="prefetch" href="/fractal-docs/assets/js/25.1455c1a6.js"><link rel="prefetch" href="/fractal-docs/assets/js/26.e8d2e73e.js"><link rel="prefetch" href="/fractal-docs/assets/js/0.76ff5cd7.js"><link rel="prefetch" href="/fractal-docs/assets/js/28.7eb0d869.js"><link rel="prefetch" href="/fractal-docs/assets/js/29.538379b4.js"><link rel="prefetch" href="/fractal-docs/assets/js/30.1e5d0f22.js"><link rel="prefetch" href="/fractal-docs/assets/js/31.8b5bcb4a.js"><link rel="prefetch" href="/fractal-docs/assets/js/32.4574276c.js"><link rel="prefetch" href="/fractal-docs/assets/js/33.26aac1a8.js"><link rel="prefetch" href="/fractal-docs/assets/js/34.4e5239a2.js"><link rel="prefetch" href="/fractal-docs/assets/js/35.3ab56ee1.js"><link rel="prefetch" href="/fractal-docs/assets/js/36.6e31c991.js"><link rel="prefetch" href="/fractal-docs/assets/js/37.94cf31f2.js"><link rel="prefetch" href="/fractal-docs/assets/js/38.db0d4e4d.js"><link rel="prefetch" href="/fractal-docs/assets/js/39.0b05936d.js"><link rel="prefetch" href="/fractal-docs/assets/js/40.429ffa60.js"><link rel="prefetch" href="/fractal-docs/assets/js/41.6774009d.js"><link rel="prefetch" href="/fractal-docs/assets/js/42.f8bbfea5.js"><link rel="prefetch" href="/fractal-docs/assets/js/43.efcaa572.js"><link rel="prefetch" href="/fractal-docs/assets/js/44.e7848148.js"><link rel="prefetch" href="/fractal-docs/assets/js/45.c6dd2b38.js"><link rel="prefetch" href="/fractal-docs/assets/js/46.a781ffc3.js"><link rel="prefetch" href="/fractal-docs/assets/js/47.82ad856c.js"><link rel="prefetch" href="/fractal-docs/assets/js/48.2731f18c.js"><link rel="prefetch" href="/fractal-docs/assets/js/49.1872fb93.js"><link rel="prefetch" href="/fractal-docs/assets/js/50.930b0855.js"><link rel="prefetch" href="/fractal-docs/assets/js/51.fb6f7325.js"><link rel="prefetch" href="/fractal-docs/assets/js/52.d1155f40.js">
    <link rel="stylesheet" href="/fractal-docs/assets/css/53.styles.99a8209a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/fractal-docs/" class="home-link router-link-active"><!----><span class="site-name">
      Fractal
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/fractal-docs/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/fractal-docs/api/" class="nav-link">API</a></div><a href="https://github.com/samuelgoddard/fractal-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fractal-docs/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/fractal-docs/api/" class="nav-link">API</a></div><a href="https://github.com/samuelgoddard/fractal-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Getting Started</span><!----></p><ul class="sidebar-group-items"><li><a href="/fractal-docs/guide/" class="sidebar-link">Overview</a></li><li><a href="/fractal-docs/guide/installation.html" class="sidebar-link">Installing Fractal</a></li><li><a href="/fractal-docs/guide/upgrading.html" class="sidebar-link">Upgrading</a></li><li><a href="/fractal-docs/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/fractal-docs/guide/project-settings.html" class="sidebar-link">Project Settings</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Core Concepts</span><!----></p><ul class="sidebar-group-items"><li><a href="/fractal-docs/guide/core-concepts/view-templates.html" class="sidebar-link">View templates</a></li><li><a href="/fractal-docs/guide/core-concepts/context-data.html" class="active sidebar-link">Context Data</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fractal-docs/guide/core-concepts/context-data.html#defining-using-context-data" class="sidebar-link">Defining &amp; using context data</a></li><li class="sidebar-sub-header"><a href="/fractal-docs/guide/core-concepts/context-data.html#static-data-references" class="sidebar-link">Static data references</a></li><li class="sidebar-sub-header"><a href="/fractal-docs/guide/core-concepts/context-data.html#dynamic-data" class="sidebar-link">Dynamic data</a></li></ul></li><li><a href="/fractal-docs/guide/core-concepts/configuration-files.html" class="sidebar-link">Configuration Files</a></li><li><a href="/fractal-docs/guide/core-concepts/naming.html" class="sidebar-link">Naming &amp; Referencing</a></li><li><a href="/fractal-docs/guide/core-concepts/statuses.html" class="sidebar-link">Statuses</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Components</span><!----></p><ul class="sidebar-group-items"><li><a href="/fractal-docs/guide/components/" class="sidebar-link">Overview</a></li><li><a href="/fractal-docs/guide/components/creating-a-component.html" class="sidebar-link">Creating a Component</a></li><li><a href="/fractal-docs/guide/components/preview-layouts.html" class="sidebar-link">Preview layouts</a></li><li><a href="/fractal-docs/guide/components/variants.html" class="sidebar-link">Variants</a></li><li><a href="/fractal-docs/guide/components/including-sub-components.html" class="sidebar-link">Including sub-components</a></li><li><a href="/fractal-docs/guide/components/notes.html" class="sidebar-link">Notes</a></li><li><a href="/fractal-docs/guide/components/configuration-reference.html" class="sidebar-link">Configuration reference</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Documentation Pages</span><!----></p><ul class="sidebar-group-items"><li><a href="/fractal-docs/guide/documentation/" class="sidebar-link">Overview</a></li><li><a href="/fractal-docs/guide/documentation/dynamic-docs.html" class="sidebar-link">Dynamic Documentation</a></li><li><a href="/fractal-docs/guide/documentation/configuration-reference.html" class="sidebar-link">Configuration reference</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Collections</span><!----></p><ul class="sidebar-group-items"><li><a href="/fractal-docs/guide/collections/" class="sidebar-link">Overview</a></li><li><a href="/fractal-docs/guide/collections/configuration-reference.html" class="sidebar-link">Configuration reference</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Web UI</span><!----></p><ul class="sidebar-group-items"><li><a href="/fractal-docs/guide/web/" class="sidebar-link">Overview</a></li><li><a href="/fractal-docs/guide/web/development-server.html" class="sidebar-link">Development Server</a></li><li><a href="/fractal-docs/guide/web/exporting-static-html.html" class="sidebar-link">Exporting to static HTML</a></li><li><a href="/fractal-docs/guide/web/default-theme.html" class="sidebar-link">Default theme</a></li><li><a href="/fractal-docs/guide/web/configuration-reference.html" class="sidebar-link">Configuration reference</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Fractal CLI</span><!----></p><ul class="sidebar-group-items"><li><a href="/fractal-docs/guide/cli/" class="sidebar-link">Overview</a></li><li><a href="/fractal-docs/guide/cli/custom-commands.html" class="sidebar-link">Custom commands</a></li><li><a href="/fractal-docs/guide/cli/interactive-mode.html" class="sidebar-link">Interactive Mode</a></li><li><a href="/fractal-docs/guide/cli/commands-reference.html" class="sidebar-link">Commands reference</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Customisation</span><!----></p><ul class="sidebar-group-items"><li><a href="/fractal-docs/guide/customisation/" class="sidebar-link">Customising Fractal</a></li><li><a href="/fractal-docs/guide/customisation/template-engines.html" class="sidebar-link">Template engines</a></li><li><a href="/fractal-docs/guide/customisation/web-themes.html" class="sidebar-link">Web UI themes</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Integration</span><!----></p><ul class="sidebar-group-items"><li><a href="/fractal-docs/guide/integration/build-tools.html" class="sidebar-link">Build Tools</a></li><li><a href="/fractal-docs/guide/integration/including-as-dependency.html" class="sidebar-link">Including as a dependency</a></li><li><a href="/fractal-docs/guide/integration/integrating-into-production.html" class="sidebar-link">Integrating into production</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="context-data"><a href="#context-data" aria-hidden="true" class="header-anchor">#</a> Context Data</h1><p>Context data is data that is made available to your <a href="/fractal-docs/guide/core-concepts/configuration-files.html">view templates</a> when they are rendered.</p><p>It is typically defined within a <a href="/fractal-docs/guide/core-concepts/configuration-files.html">configuration file</a>, although documentation pages can opt to define it in in a <a href="/fractal-docs/guide/documentation/#yaml-front-matter">YAML front-matter section</a> instead if desired.</p><p>Context data can consist of simple data types such strings, booleans, numbers, arrays and objects. It can also contain Promises (which will be resolved before context data is made available for use) and special 'static data references' that allow referencing of context data from other components or documentation pages.</p><h2 id="defining-using-context-data"><a href="#defining-using-context-data" aria-hidden="true" class="header-anchor">#</a> Defining &amp; using context data</h2><p>To define context data for a component or documentation page you should to set a <code>context</code> object in the relevant configuration file:</p><pre class="language-js"><code><span class="token comment">// my-component.config.json</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;context&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// context data goes here</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Any data set within this context object will then be made available to that item's <a href="/fractal-docs/guide/core-concepts/view-templates.html">view template</a> as variables. For example:</p><pre class="language-js"><code><span class="token comment">// users.config.json</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;context&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Our users&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;users&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Mickey Mouse&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;mickey@mouse.com&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Daffy Duck&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;daffy@duck.com&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-handlebars"><code><span class="token comment">&lt;!-- users.hbs --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token handlebars language-handlebars"><span class="token delimiter punctuation">{{</span> <span class="token variable">title</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token handlebars language-handlebars"><span class="token delimiter punctuation">{{</span><span class="token block keyword">#each</span> <span class="token variable">users</span><span class="token delimiter punctuation">}}</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token handlebars language-handlebars"><span class="token delimiter punctuation">{{</span> <span class="token variable">name</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token handlebars language-handlebars"><span class="token delimiter punctuation">{{</span> <span class="token variable">email</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token handlebars language-handlebars"><span class="token delimiter punctuation">{{</span><span class="token block keyword">/each</span><span class="token delimiter punctuation">}}</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><h2 id="static-data-references"><a href="#static-data-references" aria-hidden="true" class="header-anchor">#</a> Static data references</h2><p>Context data object also support the use of <em>data references</em>. These are special references, resolved at runtime, that allow you to 'point' to other item's context data.</p><p>This is made possible using the <code>@handle</code><a href="/fractal-docs/guide/core-concepts/naming.html#referencing-other-items">reference syntax</a> in your context data definitions. For example, if we create a configuration file for a component called <code>list-items</code> that looks like this:</p><pre class="language-yaml"><code><span class="token key atrule">context</span><span class="token punctuation">:</span>
  <span class="token key atrule">title</span><span class="token punctuation">:</span> My favourite list items
  <span class="token key atrule">items</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> one
    <span class="token punctuation">-</span> two
    <span class="token punctuation">-</span> three
    <span class="token punctuation">-</span> four
</code></pre><p>It is then possible to access the <code>list-items</code> component's context data in another component as follows:</p><pre class="language-yaml"><code><span class="token key atrule">context</span><span class="token punctuation">:</span>
  <span class="token key atrule">list</span><span class="token punctuation">:</span> <span class="token string">'@list-items'</span>

<span class="token comment"># When resolved, the above context data (which will get passed to the template when rendered) will look as follows:</span>

<span class="token key atrule">context</span><span class="token punctuation">:</span>
  <span class="token key atrule">list</span><span class="token punctuation">:</span>
    <span class="token key atrule">title</span><span class="token punctuation">:</span> My favourite list items
    <span class="token key atrule">items</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> one
      <span class="token punctuation">-</span> two
      <span class="token punctuation">-</span> three
      <span class="token punctuation">-</span> four
</code></pre><p>You can also choose to access only part of another component's context data by using a dot-notation string after the main identifier handle:</p><pre class="language-yaml"><code><span class="token key atrule">context</span><span class="token punctuation">:</span>
  <span class="token key atrule">list</span><span class="token punctuation">:</span> <span class="token string">'@list-items.items'</span>

<span class="token comment"># resolves to:</span>

<span class="token key atrule">context</span><span class="token punctuation">:</span>
  <span class="token key atrule">list</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> one
    <span class="token punctuation">-</span> two
    <span class="token punctuation">-</span> three
    <span class="token punctuation">-</span> four
</code></pre><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The reference syntax only applies to items of <strong>the same type</strong> - a component cannot access a documentation page's context data (or vice versa).</p></div><h2 id="dynamic-data"><a href="#dynamic-data" aria-hidden="true" class="header-anchor">#</a> Dynamic data</h2><p>Fractal provides the option <a href="/fractal-docs/guide/core-concepts/configuration-files.html#javascript-module-format">to use CommonJS-style modules</a> to define configuration data for components and documentation pages. Whilst slightly more complex than using JSON or YAML as a data format, it has the advantage of letting you be able to use the full power of JavaScript to generate context data for your components.</p><p>This can be handy if you want to provide data to your components from an API, or to use a library such as <a href="https://github.com/marak/Faker.js" target="_blank" rel="noopener noreferrer">Faker</a> to generate placeholder data for your components.</p><p>You can use any NodeJS functionality or NPM modules you like in your configuration data files, so the possibilities for generating dynamic data are effectively endless!</p><h3 id="generating-dynamic-data-with-faker"><a href="#generating-dynamic-data-with-faker" aria-hidden="true" class="header-anchor">#</a> Generating dynamic data with Faker</h3><p>To save us hard-coding lots of context data into our data file, we can use the excellent <a href="https://github.com/marak/Faker.js" target="_blank" rel="noopener noreferrer">faker.js</a> library to generate a list of members for us.</p><p>First you'll need to make sure you have installed Faker in your component library project - <code>npm install faker --save</code>.</p><p>And now let's look at an example <code>member-list.config.js</code> file and see how we can use Faker to dynamically generate a list of members for us.</p><pre class="language-js"><code><span class="token comment">// member-list.config.js</span>
<span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> faker <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'faker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// require the faker module</span>
<span class="token keyword">const</span> memberCount <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// how many members we should generate data for</span>
<span class="token keyword">const</span> memberData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> memberCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    memberData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> faker<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">findName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// generate a random name</span>
        email<span class="token punctuation">:</span> faker<span class="token punctuation">.</span>internet<span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// generate a random email address</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	context<span class="token punctuation">:</span> <span class="token punctuation">{</span>
		members<span class="token punctuation">:</span> memberData <span class="token comment">// use our generated list of members as context data for our template.</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>When our component is now rendered with this data, we will get a list of ten members, all with realistic names and email addresses. And if we want to generate 100 list items instead, all we have to do is update the value of the <code>memberCount</code> constant to 100.</p><p>Obviously this is a simple example, but the principle can often be useful when you want to preview components with large amounts of data in them.</p><h3 id="using-data-from-an-api"><a href="#using-data-from-an-api" aria-hidden="true" class="header-anchor">#</a> Using data from an API</h3><p>If you already have an API for your site or application, and you want to preview your components using 'real' data (or indeed if you want to use content from any other APIs) then you can handle that in your component configuration files too.</p><p>The key to this is that if any values in the context data are <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer">Promises</a>, Fractal will first wait for those promises to be resolved before rendering the template using the context data. So we can use a Promise-based request module (such as <a href="https://github.com/request/request-promise" target="_blank" rel="noopener noreferrer">request-promise</a>) to make API requests and then just pass the returned promise into our context data object.</p><p>In the following example, we are going to make a request to our fictional members API endpoint, which returns a JSON-encoded list of members.</p><pre class="language-js"><code><span class="token comment">// member-list.config.js</span>
<span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'request-promise'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// require the request-promise module</span>

<span class="token comment">// make the request to the API, returns a Promise</span>
<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    uri<span class="token punctuation">:</span> <span class="token string">'http://www.mysite-api.com/members'</span><span class="token punctuation">,</span>
    json<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// do some post-processing on the response to wrangle it into the correct format</span>
response<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>membersApiData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> memberData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> member <span class="token keyword">of</span> membersApiData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        memberData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>member<span class="token punctuation">.</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>member<span class="token punctuation">.</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>
            email<span class="token punctuation">:</span> member<span class="token punctuation">.</span>emailAddress
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> memberData<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	context<span class="token punctuation">:</span> <span class="token punctuation">{</span>
		members<span class="token punctuation">:</span> response <span class="token comment">// use the response as context data for our template.</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>Now when the component is rendered, it will first make an API request to the endpoint and wait for the Promise (and its associated <code>then()</code> step) to be resolved before using the output to pass as context data to the template.</p></div><div class="content edit-link"><a href="https://github.com/samuelgoddard/fractal-docs/edit/master/docs/guide/core-concepts/context-data.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/fractal-docs/guide/core-concepts/view-templates.html" class="prev">
          View templates
        </a></span><span class="next"><a href="/fractal-docs/guide/core-concepts/configuration-files.html">
          Configuration Files
        </a> →
      </span></p></div></div></div></div>
    <script src="/fractal-docs/assets/js/21.11774765.js" defer></script><script src="/fractal-docs/assets/js/app.ae8e43dd.js" defer></script>
  </body>
</html>
